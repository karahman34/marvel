{"version":3,"sources":["webpack:///./src/views/Series.vue?020d","webpack:///./src/views/Series.vue?b4e8","webpack:///src/views/Series.vue","webpack:///./src/views/Series.vue?d3fb","webpack:///./src/views/Series.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_l","select","name","key","attrs","items","selects","order","val","model","value","callback","$$v","$set","expression","n","_e","loading","series","length","ser","id","limit","itemsLength","staticRenderFns","components","Series","Pagination","BrowseSearchInput","data","direction","contain","computed","orderBy","search","$route","query","currentPage","page","payload","offset","titleStartsWith","watch","deep","handler","old","$router","replace","getSeriesHandler","mounted","methods","scrollToTop","window","scrollTo","component","VCard","VCardText","VCol","VRow","VSelect","VSkeletonLoader"],"mappings":"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","file":"js/chunk-53c1180a.f8682092.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Series.vue?vue&type=style&index=0&id=c3517ef4&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Series.vue?vue&type=style&index=0&id=c3517ef4&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-container my-10\"},[_c('h2',{staticClass:\"font-weight-medium\"},[_vm._v(\" Series \")]),_c('v-row',_vm._l((_vm.selects),function(select,name){return _c('v-col',{key:name,attrs:{\"cols\":\"4\"}},[_c('v-select',{attrs:{\"solo\":\"\",\"hide-details\":\"\",\"label\":name,\"items\":select.items,\"disabled\":name === 'direction' && _vm.selects.order.val === null},model:{value:(select.val),callback:function ($$v) {_vm.$set(select, \"val\", $$v)},expression:\"select.val\"}})],1)}),1),_c('browse-search-input',{staticClass:\"browse-search-input my-4\",attrs:{\"context\":\"series\"}}),(_vm.loading)?_c('v-row',_vm._l((8),function(n){return _c('v-col',{key:n,attrs:{\"cols\":\"6\",\"sm\":\"4\",\"lg\":\"3\"}},[_c('v-card',[_c('v-skeleton-loader',{attrs:{\"type\":\"image\"}}),_c('v-card-text',[_c('v-skeleton-loader',{attrs:{\"type\":\"heading\"}}),_c('v-skeleton-loader',{staticClass:\"mt-6\",attrs:{\"type\":\"text\"}})],1)],1)],1)}),1):_vm._e(),(!_vm.loading && _vm.series.length)?_c('v-row',_vm._l((_vm.series),function(ser){return _c('v-col',{key:ser.id,attrs:{\"md\":\"3\"}},[_c('series',{attrs:{\"series\":ser}})],1)}),1):_vm._e(),(_vm.series.length)?_c('pagination',{staticClass:\"mt-4\",attrs:{\"per-page\":_vm.limit,\"items-length\":_vm.itemsLength}}):_vm._e(),(!_vm.loading && !_vm.series.length)?_c('h2',{staticClass:\"text-center white--text mt-4\"},[_vm._v(\" Series not found.. \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home-container my-10\">\n    <!-- Header -->\n    <h2 class=\"font-weight-medium\">\n      Series\n    </h2>\n\n    <!-- Selects -->\n    <v-row>\n      <v-col\n        v-for=\"(select, name) in selects\"\n        :key=\"name\"\n        cols=\"4\"\n      >\n        <v-select\n          v-model=\"select.val\"\n          solo\n          hide-details\n          :label=\"name\"\n          :items=\"select.items\"\n          :disabled=\"name === 'direction' && selects.order.val === null\"\n        />\n      </v-col>\n    </v-row>\n\n    <!-- Search -->\n    <browse-search-input\n      context=\"series\"\n      class=\"browse-search-input my-4\"\n    />\n\n    <!-- Skeleton loaders -->\n    <v-row v-if=\"loading\">\n      <v-col\n        v-for=\"n in 8\"\n        :key=\"n\"\n        cols=\"6\"\n        sm=\"4\"\n        lg=\"3\"\n      >\n        <v-card>\n          <v-skeleton-loader type=\"image\" />\n\n          <v-card-text>\n            <v-skeleton-loader type=\"heading\" />\n\n            <v-skeleton-loader\n              type=\"text\"\n              class=\"mt-6\"\n            />\n          </v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n\n    <!-- Content -->\n    <v-row v-if=\"!loading && series.length\">\n      <v-col\n        v-for=\"ser in series\"\n        :key=\"ser.id\"\n        md=\"3\"\n      >\n        <!-- The Series -->\n        <series :series=\"ser\" />\n      </v-col>\n    </v-row>\n\n    <!-- The Pagination -->\n    <pagination\n      v-if=\"series.length\"\n      class=\"mt-4\"\n      :per-page=\"limit\"\n      :items-length=\"itemsLength\"\n    />\n\n    <!-- 404 Not found / Empty -->\n    <h2\n      v-if=\"!loading && !series.length\"\n      class=\"text-center white--text mt-4\"\n    >\n      Series not found..\n    </h2>\n  </div>\n</template>\n\n<script>\nimport Series from \"@/components/Series/Series\"\nimport BrowseSearchInput from \"@/components/Browse/BrowseSearchInput\"\nimport Pagination from \"@/components/Browse/Pagination\"\nimport {getSeries} from \"@/utils/marvel\"\n\n\nexport default {\n  components: {\n    Series,\n    Pagination,\n    BrowseSearchInput\n  },\n\n  data() {\n    return {\n      limit: 16,\n      loading: false,\n      series: [],\n      itemsLength: null,\n      selects: {\n        order: {\n          val: null,\n          items: ['title', 'modified', 'startYear']\n        },\n        direction: {\n          val: null,\n          items: ['asc', 'desc']\n        },\n        contain: {\n          val: null,\n          items: ['comic', 'megazine', 'trade paperback', 'hardcover', 'digest']\n        }\n      }\n    }\n  },\n\n  computed: {\n    orderBy() {\n      const {order, direction} = this.selects\n\n      return order.val !== null && direction.val === 'desc'\n        ? `-${order.val}`\n        : order.val\n    },\n    search() {\n      return this.$route.query.search\n    },\n    currentPage() {\n      return this.$route.query.page || 1\n    },\n    payload() {\n      return {\n        limit: this.limit,\n        offset: this.currentPage === 1 ? 0 : (this.currentPage - 1) * this.limit,\n        orderBy: this.orderBy,\n        titleStartsWith: this.search || null\n      }\n    }\n  },\n\n  watch: {\n    payload: {\n      deep: true,\n      handler(val, old) {\n        if (this.currentPage > 1 && val.offset === old.offset) {\n          this.$router.replace({\n            query: {\n              ...this.$route.query,\n              page: 1\n            }\n          })\n        } else {\n          this.getSeriesHandler()\n        }\n      }\n    }\n  },\n\n  mounted() {\n    this.getSeriesHandler()\n  },\n\n  methods: {\n    scrollToTop() {\n      window.scrollTo(0, 0)\n    },\n    async getSeriesHandler() {\n      this.scrollToTop()\n      this.loading = true\n\n      try {\n        const res = await  getSeries(this.payload)\n        const {data} = res.data\n\n        this.series = data.results\n        this.itemsLength = data.total\n      } catch (e) {\n        this.$toast.set({\n          color: 'red',\n          msg: 'Failed to fetch series data..'\n        })\n      } finally {\n        this.loading = false\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .browse-search-input {\n    width: 100%;\n  }\n\n  @media screen and (min-width: 900px) {\n    .browse-search-input {\n      width: 75%;\n      margin: 0 auto;\n    }\n  }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Series.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Series.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Series.vue?vue&type=template&id=c3517ef4&scoped=true&\"\nimport script from \"./Series.vue?vue&type=script&lang=js&\"\nexport * from \"./Series.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Series.vue?vue&type=style&index=0&id=c3517ef4&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c3517ef4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VCard,VCardText,VCol,VRow,VSelect,VSkeletonLoader})\n"],"sourceRoot":""}