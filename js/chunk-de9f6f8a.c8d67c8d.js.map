{"version":3,"sources":["webpack:///./src/views/Comics.vue?a716","webpack:///./src/views/Comics.vue?8d53","webpack:///src/views/Comics.vue","webpack:///./src/views/Comics.vue?814c","webpack:///./src/views/Comics.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_l","select","name","key","attrs","items","model","value","selects","callback","$$v","$set","expression","n","_e","loading","comics","length","comic","id","itemsLength","perPage","staticRenderFns","components","Comic","Pagination","BrowseSearchInput","data","format","val","formatType","order","direction","computed","search","$route","query","currentPage","page","orderBy","payload","limit","offset","titleStartsWith","watch","deep","handler","old","$router","replace","getComicsHandler","mounted","methods","scrollToTop","window","scrollTo","component","VCard","VCardText","VCol","VRow","VSelect","VSkeletonLoader"],"mappings":"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","file":"js/chunk-de9f6f8a.c8d67c8d.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comics.vue?vue&type=style&index=0&id=a8e83be6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comics.vue?vue&type=style&index=0&id=a8e83be6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home-container my-10\"},[_c('h2',{staticClass:\"font-weight-medium\"},[_vm._v(\" Comics \")]),_c('v-row',_vm._l((_vm.selects),function(select,name){return _c('v-col',{key:name,attrs:{\"cols\":\"6\",\"md\":\"3\"}},[_c('v-select',{attrs:{\"hide-details\":\"\",\"solo\":\"\",\"label\":name,\"items\":select.items},model:{value:(_vm.selects[name].val),callback:function ($$v) {_vm.$set(_vm.selects[name], \"val\", $$v)},expression:\"selects[name].val\"}})],1)}),1),_c('browse-search-input',{staticClass:\"browse-search-input my-3\",attrs:{\"context\":\"comics\"}}),(_vm.loading)?_c('v-row',_vm._l((8),function(n){return _c('v-col',{key:n,attrs:{\"cols\":\"6\",\"sm\":\"4\",\"lg\":\"3\"}},[_c('v-card',[_c('v-skeleton-loader',{attrs:{\"type\":\"image\"}}),_c('v-card-text',[_c('v-skeleton-loader',{attrs:{\"type\":\"heading\"}}),_c('v-skeleton-loader',{staticClass:\"mt-6\",attrs:{\"type\":\"text\"}})],1)],1)],1)}),1):_vm._e(),(!_vm.loading && _vm.comics.length)?_c('v-row',_vm._l((_vm.comics),function(comic){return _c('v-col',{key:comic.id,attrs:{\"cols\":\"6\",\"sm\":\"4\",\"lg\":\"3\"}},[_c('comic',{attrs:{\"comic\":comic}})],1)}),1):_vm._e(),(_vm.comics.length)?_c('pagination',{staticClass:\"mt-6\",attrs:{\"items-length\":_vm.itemsLength,\"per-page\":_vm.perPage}}):_vm._e(),(!_vm.loading && !_vm.comics.length)?_c('h2',{staticClass:\"text-center mt-4\"},[_vm._v(\" Comics not found.. \")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"home-container my-10\">\n    <!-- Header -->\n    <h2 class=\"font-weight-medium\">\n      Comics\n    </h2>\n\n    <!-- Selects -->\n    <v-row>\n      <v-col\n        v-for=\"(select, name) in selects\"\n        :key=\"name\"\n        cols=\"6\"\n        md=\"3\"\n      >\n        <!-- Format -->\n        <v-select\n          v-model=\"selects[name].val\"\n          hide-details\n          solo\n          :label=\"name\"\n          :items=\"select.items\"\n        />\n      </v-col>\n    </v-row>\n\n    <!-- Search -->\n    <browse-search-input\n      context=\"comics\"\n      class=\"browse-search-input my-3\"\n    />\n\n    <!-- Skeleton loaders -->\n    <v-row v-if=\"loading\">\n      <v-col\n        v-for=\"n in 8\"\n        :key=\"n\"\n        cols=\"6\"\n        sm=\"4\"\n        lg=\"3\"\n      >\n        <v-card>\n          <v-skeleton-loader type=\"image\" />\n\n          <v-card-text>\n            <v-skeleton-loader type=\"heading\" />\n\n            <v-skeleton-loader\n              type=\"text\"\n              class=\"mt-6\"\n            />\n          </v-card-text>\n        </v-card>\n      </v-col>\n    </v-row>\n\n    <!-- Content -->\n    <v-row v-if=\"!loading && comics.length\">\n      <v-col\n        v-for=\"comic in comics\"\n        :key=\"comic.id\"\n        cols=\"6\"\n        sm=\"4\"\n        lg=\"3\"\n      >\n        <!-- The Comic -->\n        <comic :comic=\"comic\" />\n      </v-col>\n    </v-row>\n\n    <!-- Pagination -->\n    <pagination\n      v-if=\"comics.length\"\n      class=\"mt-6\"\n      :items-length=\"itemsLength\"\n      :per-page=\"perPage\"\n    />\n\n    <!-- 404 Not found / empty -->\n    <h2\n      v-if=\"!loading && !comics.length\"\n      class=\"text-center mt-4\"\n    >\n      Comics not found..\n    </h2>\n  </div>\n</template>\n\n<script>\nimport Comic from \"@/components/Comics/Comic\"\nimport BrowseSearchInput from \"@/components/Browse/BrowseSearchInput\"\nimport {getComics} from \"@/utils/marvel\"\nimport Pagination from \"@/components/Browse/Pagination\"\n\nexport default {\n  components: {\n    Comic,\n    Pagination,\n    BrowseSearchInput\n  },\n\n  data() {\n    return {\n      selects: {\n        format: {\n          val: null,\n          items: [\n            'comics',\n            'megazine',\n            'trade paperback',\n            'hardcover',\n            'digest',\n            'graphic novel',\n            'digital comic',\n            'infinite comic'\n          ]\n        },\n        formatType: {\n          val: null,\n          items: ['comic', 'collection']\n        },\n        order: {\n          val: 'title',\n          items: [\n            'focDate',\n            'onsaleDate',\n            'title',\n            'issueNumber',\n            'modified'\n          ]\n        },\n        direction: {\n          val: null,\n          items: ['asc', 'desc']\n        }\n      },\n      perPage: 16,\n      loading: false,\n      comics: [],\n      itemsLength: null\n    }\n  },\n\n  computed: {\n    search() {\n      return this.$route.query.search\n    },\n    currentPage() {\n      return this.$route.query.page || 1\n    },\n    orderBy() {\n      const {direction, order} = this.selects\n\n      return direction.val === 'desc'\n        ? `-${order.val}`\n        : order.val\n    },\n    payload() {\n      const {format, formatType} = this.selects\n\n      return {\n        limit: this.perPage,\n        format: format.val,\n        formatType: formatType.val,\n        orderBy: this.orderBy,\n        offset: this.currentPage === 1 ? 0 : (this.currentPage - 1) * this.perPage,\n        titleStartsWith: this.search || null\n      }\n    }\n  },\n\n  watch: {\n    payload: {\n      deep: true,\n      handler(val, old) {\n        if (this.currentPage !== 1 && val.offset === old.offset) {\n          // Update page to 1\n          this.$router.replace({\n            query: {\n              ...this.$route.query,\n              page: 1\n            }\n          }).catch(() => {})\n        } else {\n          this.getComicsHandler()\n        }\n      }\n    }\n  },\n\n  mounted() {\n    this.getComicsHandler()\n  },\n\n  methods: {\n    scrollToTop() {\n      window.scrollTo(0, 0)\n    },\n    async getComicsHandler() {\n      // Initiate loading\n      this.loading = true\n\n      this.scrollToTop()\n\n      try {\n        // Fetch the comics\n        const res = await getComics(this.payload)\n        const {data} = res.data\n\n        this.comics = data.results\n        this.itemsLength = data.total\n      } catch (e) {\n        this.$toast.set({\n          color: 'red',\n          msg: 'Failed to fetch comics..'\n        })\n      } finally {\n        this.loading = false\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n  .browse-search-input {\n    width: 100%;\n  }\n\n  @media screen and (min-width: 900px) {\n    .browse-search-input {\n      width: 75%;\n      margin: 0 auto;\n    }\n  }\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comics.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Comics.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Comics.vue?vue&type=template&id=a8e83be6&scoped=true&\"\nimport script from \"./Comics.vue?vue&type=script&lang=js&\"\nexport * from \"./Comics.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Comics.vue?vue&type=style&index=0&id=a8e83be6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a8e83be6\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSkeletonLoader } from 'vuetify/lib/components/VSkeletonLoader';\ninstallComponents(component, {VCard,VCardText,VCol,VRow,VSelect,VSkeletonLoader})\n"],"sourceRoot":""}