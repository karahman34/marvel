(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-060d115a"],{"156d":function(e,t,r){"use strict";var a=r("fd5a"),s=r.n(a);s.a},d56c:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home-container my-10"},[r("h2",{staticClass:"font-weight-medium"},[e._v(" Characters ")]),r("v-row",{staticClass:"mb-4"},[r("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"6"}},[r("div",{staticClass:"d-flex justify-space-between"},[r("v-select",{staticClass:"mr-4",attrs:{solo:"","hide-details":"",label:"Order By",items:e.orderItems},model:{value:e.order.by,callback:function(t){e.$set(e.order,"by",t)},expression:"order.by"}}),r("v-select",{attrs:{solo:"","hide-details":"",label:"Order Direction",items:e.orderDirections,disabled:null===e.order.by},model:{value:e.order.direction,callback:function(t){e.$set(e.order,"direction",t)},expression:"order.direction"}})],1)]),r("v-col",{staticClass:"pb-0",attrs:{cols:"12",md:"6"}},[r("browse-search-input",{staticClass:"browse-search-input float-right",attrs:{context:"characters"}})],1)],1),e.searchLoading?r("div",[r("v-row",e._l(8,(function(e){return r("v-col",{key:e,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[r("v-row",{attrs:{"no-gutters":""}},[r("v-col",{attrs:{cols:"6"}},[r("v-skeleton-loader",{attrs:{type:"image"}})],1),r("v-col",{staticClass:"px-2 py-2",attrs:{cols:"6"}},[r("v-skeleton-loader",{attrs:{type:"text"}}),r("hr",{staticClass:"mb-3 mt-2"}),r("v-skeleton-loader",{attrs:{type:"paragraph"}})],1)],1)],1)})),1)],1):e._e(),e.characters.length&&!e.searchLoading?[r("v-row",e._l(e.characters,(function(e){return r("v-col",{key:e.id,attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[r("character",{attrs:{character:e}})],1)})),1)]:e._e(),e.characters.length?r("pagination",{staticClass:"mt-6 mb-3",attrs:{"per-page":e.perPage,"items-length":e.totalItems}}):e._e(),e.characters.length||e.searchLoading?e._e():[r("h2",{staticClass:"text-center"},[e._v(" No Characters found.. ")])]],2)},s=[],c=(r("ac1f"),r("5319"),r("841c"),r("96cf"),r("1da1")),o=r("5530"),n=r("12da"),i=r("a366"),l=r("a203"),d=r("72c1"),h={components:{Character:n["a"],Pagination:i["a"],BrowseSearchInput:l["a"]},data:function(){return{previousPage:null,perPage:16,totalItems:null,searchLoading:!1,orderItems:["name","modified"],orderDirections:["asc","desc"],order:{by:null,direction:null},characters:[]}},computed:{search:function(){return this.$route.query.search},currentPage:function(){return this.$route.query.page||1},orderBy:function(){var e=this.order,t=e.by,r=e.direction;return"desc"===r?"-".concat(t):t},payload:function(){return{limit:this.perPage,offset:1===this.currentPage?0:(this.currentPage-1)*this.perPage,orderBy:this.orderBy,nameStartsWith:this.search||null}}},watch:{currentPage:function(){this.searchCharacters()},search:function(){1===this.currentPage?this.searchCharacters():this.replaceToPageOne()},orderBy:function(){1===this.currentPage?this.searchCharacters():this.replaceToPageOne()}},mounted:function(){this.searchCharacters()},methods:{replaceToPageOne:function(){this.$router.replace(Object(o["a"])(Object(o["a"])({},this.$route.query),{},{page:1})).catch((function(){}))},scrollToTop:function(){window.scrollTo(0,0)},searchCharacters:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.scrollToTop(),e.searchLoading=!0,t.prev=2,t.next=5,Object(d["a"])(e.payload);case 5:r=t.sent,a=r.data.data,e.totalItems=a.total,e.characters=a.results,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),e.$toast.set({color:"red",msg:"Failed to fetch characters."});case 14:return t.prev=14,e.searchLoading=!1,t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[2,11,14,17]])})))()}}},u=h,p=(r("156d"),r("2877")),f=r("6544"),m=r.n(f),g=r("62ad"),v=r("0fd9"),b=r("b974"),y=r("3129"),w=Object(p["a"])(u,a,s,!1,null,"04e9808c",null);t["default"]=w.exports;m()(w,{VCol:g["a"],VRow:v["a"],VSelect:b["a"],VSkeletonLoader:y["a"]})},fd5a:function(e,t,r){}}]);
//# sourceMappingURL=chunk-060d115a.d30e1fcf.js.map